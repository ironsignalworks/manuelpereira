<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Manuel Pereira Shiatsu — Zen Shiatsu</title>
  <meta name="description" content="Shiatsu enraizado em TCM. Toque antigo, calma moderna." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://manuelpereira-shiatsu.example/" />
  <meta name="theme-color" content="#c8c88f" />

  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" sizes="any" />
  <link rel="icon" href="icon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />

  <!-- OG / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="pt_PT" />
  <meta property="og:title" content="Manuel Pereira Shiatsu — Zen Shiatsu" />
  <meta property="og:description" content="Shiatsu enraizado em TCM. Toque antigo, calma moderna." />
  <meta property="og:url" content="https://manuelpereira-shiatsu.example/" />
  <meta property="og:image" content="https://manuelpereira-shiatsu.example/og-1200x630.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+Antique:wght@400;500&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+Antique:wght@400;500&display=swap" rel="stylesheet">

  <!-- Preload images -->
  <link rel="preload" as="image" href="logo.svg">
  <link rel="preload" as="image" href="3.webp" type="image/webp" imagesrcset="3.webp 1x, 3.jpg 1x" imagesizes="100vw">

  <style>
    :root{
      --paper:#c8c88f;
      --ink:#171614;
      --ink-soft:rgba(23,22,20,.82);
      --mute:#5a5751;
      --mint:#e9ecd8;
      --line:rgba(23,22,20,.28);
      --jade:#2c5d4a;
      --pine:#0f2b20;

      --max: min(980px, 90vw);
      --lh: 1.9;
      --ease: cubic-bezier(.18,.62,.22,1);
      --dur: 700ms;
      --fast: 200ms;

      /* Scroll-driven */
      --logo-fade: 1;   /* 1→0 as scroll */
      --hero-in: 0;     /* 0→1 as scroll */
    }

    /* Base */
    *,*::before,*::after{ box-sizing:border-box }
    html,body{ height:100% }
    html{ scroll-behavior:smooth }
    body{
      margin:0; color:var(--ink); background:var(--paper);
      font-family:"Zen Kaku Gothic Antique", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      line-height:var(--lh); font-weight:400; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    /* Type */
    h1,h2,h3{ font-weight:500; margin:0; line-height:1.18; letter-spacing:.01em }
    h1{ font-size:clamp(2.1rem, 5.2vw, 3.2rem) }
    h2{ font-size:clamp(1.5rem, 3vw, 2.05rem) }
    h3{ font-size:clamp(1.02rem, 1.9vw, 1.18rem) }
    p{ margin:.35rem 0; color:var(--ink-soft) }
    .mute{ color:var(--mute) }
    small{ color:var(--mute) }
    .only-mobile{ display:none }

    a{
      color:var(--jade); text-decoration:none;
      background:linear-gradient(currentColor,currentColor) left 100%/0 1px no-repeat;
      transition:background-size var(--fast) var(--ease), color var(--fast) var(--ease), opacity var(--fast) var(--ease)
    }
    a:hover{ background-size:100% 1px; color:var(--pine) }

    /* Layout */
    .wrap{ width:var(--max); margin-inline:auto; position:relative }
    .flow{ padding-block:clamp(22px, 6vw, 68px) }
    header{ padding-block:12px }
    section{ position:relative }

    .brand{ display:flex; justify-content:space-between; gap:18px; align-items:flex-end; flex-wrap:wrap }
    .brand .name{ display:flex; flex-direction:column; gap:2px }

    .nav-inline{ display:flex; gap:18px; flex-wrap:wrap }
    .nav-inline a{ font-size:.95rem; position:relative; padding:6px 0 }
    .nav-inline a::after{
      content:""; position:absolute; left:0; right:0; bottom:-4px; height:1px;
      background:linear-gradient(90deg, transparent, var(--line), transparent);
      transform:scaleX(0); transform-origin:center; transition:transform var(--dur) var(--ease)
    }
    .nav-inline a:hover::after{ transform:scaleX(1) }

    /* Mobile hamburger */
    .menu-toggle{ display:none; border:0; background:transparent; padding:8px; margin:-8px -8px -8px 0; border-radius:10px }
    .menu-toggle:focus-visible{ outline:2px solid rgba(0,0,0,.2); outline-offset:2px }
    .menu-icon{ width:26px; height:26px; display:inline-block }

    .nav-inline.mobile{
      display:none; position:absolute; top:100%; right:0; left:0; padding:10px 14px 14px;
      background:rgba(255,255,255,.22); border:1px solid var(--line); border-radius:12px; box-shadow:0 10px 26px rgba(0,0,0,.06);
      backdrop-filter:saturate(120%) blur(2px); flex-direction:column; gap:10px; z-index:50;
    }
    .nav-inline.mobile.open{ display:flex }
    .nav-inline.mobile a{ padding:8px 6px; font-size:1rem }

    /* Divider lines (hairline) + animated fade/slide */
    .ink-line{
      height:1px; width:100%;
      background:linear-gradient(90deg, transparent, var(--line) 20%, rgba(23,22,20,.42) 50%, var(--line) 80%, transparent);
    }
    .line-fade{
      opacity:var(--line-alpha,1);
      transform:translateY(calc((1 - var(--line-alpha,1)) * 12px));
      transition:opacity var(--fast) var(--ease), transform var(--fast) var(--ease);
      will-change:opacity, transform;
    }

    /* Hero (logo near nav; copy crossfades over it) */
    .hero{ padding-top:6px; padding-bottom:clamp(28px, 8vw, 68px) }
    .hero-stage{ position:relative; min-height:clamp(170px, 28vw, 320px) }
    .hero-logo{
      position:relative; display:block; width:clamp(140px, 26vw, 320px); max-width:85%; margin:0;
      opacity:var(--logo-fade);
      transform:translateY(calc((1 - var(--logo-fade)) * -8px));
      transition:opacity var(--fast) var(--ease), transform var(--fast) var(--ease);
      will-change:opacity, transform;
    }
    .hero-copy{
      pointer-events:none; position:absolute; inset:0; display:grid; place-items:center;
      opacity:var(--hero-in);
      transform:translateY(calc((1 - var(--hero-in)) * 8px));
      transition:opacity var(--fast) var(--ease), transform var(--fast) var(--ease);
      will-change:opacity, transform; text-align:center; padding-inline:6vw;
    }

    /* Dividers (img, fade on scroll) */
    .divider{ display:grid; place-items:center; padding-block:22px }
    .divider img{
      width:96px; height:96px; display:block; opacity:var(--icon-alpha,1);
      transition:opacity var(--fast) var(--ease), transform var(--fast) var(--ease);
      transform:translateY(calc((1 - var(--icon-alpha,1)) * 8px));
      will-change:opacity, transform;
    }

    /* Footer (photo bg + icon + quote + year) */
    footer{
      position:relative; min-height:min(56vh, 520px);
      display:grid; place-items:center; text-align:center; color:var(--ink);
      background: image-set(url('3.webp') type('image/webp'), url('3.jpg') type('image/jpeg')) center 100% / cover no-repeat;
    }
    footer::before{
      content:""; position:absolute; inset:0;
      background:linear-gradient(180deg, rgba(200,200,143,.34), rgba(200,200,143,.62));
      pointer-events:none;
    }
    .footer-inner{ position:relative; z-index:1; padding:24px; max-width:var(--max) }
    .footer-icon{
      display:block; margin:0 auto 10px auto; opacity:var(--icon-alpha,1);
      transition:opacity var(--fast) var(--ease), transform var(--fast) var(--ease);
      transform:translateY(calc((1 - var(--icon-alpha,1)) * 8px)); width:48px; height:48px;
    }
    .footer-line{ width:100%; height:1px; background:linear-gradient(90deg, transparent, var(--line), transparent); margin:14px 0 18px 0 }
    .footnote{ font-size:.95rem; color:var(--ink-soft) }
    .footer-quote{
      margin:14px auto 0 auto; line-height:1.8; color:var(--ink-soft); max-width:50ch; white-space:pre-line;
    }

    /* Responsive */
    @media (max-width: 720px){
      .flow{ padding-block:22px }
      header{ padding-block:10px }
      .nav-inline.desktop{ display:none }
      .menu-toggle{ display:block }
      .hero-stage{ min-height:380px }
      .only-mobile{ display:block }
      .footer-inner{ padding:18px }
      .footer-quote{ max-width:68ch }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto }
      .hero-logo, .hero-copy, .divider img, .footer-icon, .line-fade{ transition:none }
    }
  </style>
</head>
<body>
  <div id="scrollbar" aria-hidden="true" style="position:fixed;top:0;left:0;height:2px;width:0;z-index:999;background:linear-gradient(90deg, rgba(23,22,20,.75), rgba(23,22,20,.35));box-shadow:0 0 8px rgba(23,22,20,.18)"></div>

  <main class="wrap">
    <header class="flow" style="position:relative">
      <div class="brand" style="width:100%; align-items:center">
        <div class="name">
          <h3>Manuel Pereira Shiatsu</h3>
          <small>Zen Shiatsu · TCM</small>
        </div>

        <!-- Desktop nav -->
        <nav class="nav-inline desktop" aria-label="Navegação principal">
          <a href="#home">Home</a>
          <a href="#about">Sobre</a>
          <a href="#treat">Tratamentos</a>
          <a href="#kintsugi">Filosofia</a>
          <a href="#space">Espaço</a>
          <a href="#info">Info</a>
          <a href="#contacto">Contacto</a>
        </nav>

        <!-- Mobile hamburger -->
        <button class="menu-toggle" id="menu-toggle" aria-label="Abrir menu" aria-controls="mobile-nav" aria-expanded="false">
          <svg class="menu-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <!-- Mobile drawer -->
      <nav class="nav-inline mobile" id="mobile-nav" aria-label="Navegação principal móvel">
        <a href="#home">Home</a>
        <a href="#about">Sobre</a>
        <a href="#treat">Tratamentos</a>
        <a href="#kintsugi">Filosofia</a>
        <a href="#space">Espaço</a>
        <a href="#info">Info</a>
        <a href="#contacto">Contacto</a>
      </nav>
    </header>

    <!-- 00 Home -->
    <section id="home" class="flow hero" aria-label="Home">
      <div class="hero-stage">
        <img class="hero-logo" src="logo.svg" alt="" aria-hidden="true">
        <div class="hero-copy">
          <div>
            <h1>Toque que acalma.</h1>
            <p class="mute">Respiração. Meridianos. Presença.</p>
            <p class="mute only-mobile">Corpo inteiro, ritmo natural, atenção gentil — um convite a regressar ao eixo.</p>
          </div>
        </div>
      </div>
      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>

    <!-- Divider 2 -->
    <div class="divider icon-fade"><img src="icon2.svg" alt="" width="96" height="96" loading="lazy"></div>

    <!-- 01 About -->
    <section id="about" class="flow" aria-label="Sobre">
      <div>
        <h2>Da mão ao centro.</h2>
        <p>Escuta. Pressão suave. Ritmo natural.</p>
      </div>
      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>

    <!-- Divider 3 -->
    <div class="divider icon-fade"><img src="icon3.svg" alt="" width="96" height="96" loading="lazy"></div>

    <!-- 02 Treatments -->
    <section id="treat" class="flow" aria-label="Tratamentos">
      <div>
        <h2>Shiatsu · Acupressão · Cupping · Gua Sha</h2>
        <p>Sessões de 60′. Corpo inteiro. Respiração guiada.</p>
      </div>
      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>

    <!-- Divider 4 -->
    <div class="divider icon-fade"><img src="icon4.svg" alt="" width="96" height="96" loading="lazy"></div>

    <!-- 03 Philosophy -->
    <section id="kintsugi" class="flow" aria-label="Filosofia">
      <div>
        <h2>Impermanência, equilíbrio.</h2>
        <p>Yin e yang em movimento. Voltar ao eixo.</p>
      </div>
      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>

    <!-- Divider 5 -->
    <div class="divider icon-fade"><img src="icon5.svg" alt="" width="96" height="96" loading="lazy"></div>

    <!-- 04 Space -->
    <section id="space" class="flow" aria-label="Espaço">
      <div>
        <h2>Luz. Madeira. Silêncio.</h2>
        <p class="mute">Um lugar para abrandar.</p>
      </div>
      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>

    <!-- 05 Information -->
    <section id="info" class="flow" aria-label="Informação">
      <div>
        <h2>Locais</h2>
        <ul>
          <li>Anjos · Lisboa</li>
          <li>Almoçageme · Colares</li>
          <li>Domicílio (Lisboa)</li>
          <li>4 Elementos · El Corte Inglés</li>
        </ul>
        <p class="mute">Sessão média: 60 minutos (entrevista + diagnóstico + tratamento).</p>
      </div>
      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>

    <!-- 06 Contact -->
    <section id="contacto" class="flow" aria-label="Contacto & Marcação">
      <div>
        <h2>Contacto &amp; Marcação</h2>
        <p><strong>Manuel Pereira</strong> — Terapeuta de Zen Shiatsu</p>
      </div>

      <div class="socials" aria-label="Contactos e redes" style="display:flex; gap:12px; flex-wrap:wrap; align-items:center;">
        <a class="icon-link" href="tel:+351919973618" aria-label="Ligar 919 973 618" style="display:inline-flex; align-items:center; gap:10px; padding:10px 12px; border-radius:999px; background:var(--mint); color:var(--ink); border:1px solid var(--line)">
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px"><path d="M3 5c0-1.1.9-2 2-2h2a2 2 0 0 1 2 1.7l.3 1.7a2 2 0 0 1-.6 1.8L8 10a14 14 0 0 0 6 6l1.8-.7a2 2 0 0 1 1.8.2l1.6 1a2 2 0 0 1 .8 2l-.4 2a2 2 0 0 1-2 1.6C8.5 22.7 1.3 15.5 1 6a2 2 0 0 1 2-1Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span>919&nbsp;973&nbsp;618</span>
        </a>
        <a class="icon-link" href="mailto:manuelpereira.shiatsu@gmail.com" aria-label="Enviar email" style="display:inline-flex; align-items:center; gap:10px; padding:10px 12px; border-radius:999px; background:var(--mint); color:var(--ink); border:1px solid var(--line)">
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px"><path d="M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Z" stroke="currentColor" stroke-width="1.5"/><path d="m4 7 8 6 8-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span>Email</span>
        </a>
        <a class="icon-link" href="https://instagram.com/manuelpereira.shiatsu" target="_blank" rel="noopener" aria-label="Instagram" style="display:inline-flex; align-items:center; gap:10px; padding:10px 12px; border-radius:999px; background:var(--mint); color:var(--ink); border:1px solid var(--line)">
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px"><rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.5"/><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/><circle cx="17.5" cy="6.5" r="1" fill="currentColor"/></svg>
          <span>@manuelpereira.shiatsu</span>
        </a>
        <a class="icon-link" href="https://maps.google.com/?q=Anjos+Lisboa" target="_blank" rel="noopener" aria-label="Ver no mapa" style="display:inline-flex; align-items:center; gap:10px; padding:10px 12px; border-radius:999px; background:var(--mint); color:var(--ink); border:1px solid var(--line)">
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px"><path d="M12 21s7-6.2 7-11a7 7 0 1 0-14 0c0 4.8 7 11 7 11Z" stroke="currentColor" stroke-width="1.5"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="1.5"/></svg>
          <span>Anjos · Lisboa</span>
        </a>
      </div>

      <div class="ink-line line-fade" aria-hidden="true"></div>
    </section>
  </main>

  <!-- Footer with background image + real icon.svg + year + quote -->
  <footer class="icon-fade">
    <div class="footer-inner">
      <img class="footer-icon" src="icon.svg" alt="Ícone" width="48" height="48" loading="lazy">
      <div class="footer-line" aria-hidden="true"></div>
      <div class="footnote">© <span id="year"></span> Manuel Pereira Shiatsu</div>

      <div class="footer-quote">
Não há ponte entre duas margens,
só quem habita a corrente
pode aspirar a todas as moradas.
Vasco Gato “Imo”
      </div>
    </div>
  </footer>

  <div id="scrollhint" class="mute" style="position:fixed; right:16px; bottom:16px; font-size:.85rem; opacity:.7; backdrop-filter:blur(2px); background:rgba(255,255,255,.35); padding:6px 10px; border-radius:999px">Scroll</div>

  <script>
    // Mobile hamburger toggle + ESC close + outside click
    const burger = document.getElementById('menu-toggle');
    const drawer = document.getElementById('mobile-nav');
    function setMenu(open){
      drawer.classList.toggle('open', open);
      burger?.setAttribute('aria-expanded', open ? 'true' : 'false');
      document.body.classList.toggle('nav-open', open);
    }
    burger?.addEventListener('click', ()=> setMenu(!drawer.classList.contains('open')));
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') setMenu(false); });
    document.addEventListener('click', e=>{
      if(!drawer.classList.contains('open')) return;
      const within = drawer.contains(e.target) || burger.contains(e.target);
      if(!within) setMenu(false);
    });
    drawer?.querySelectorAll('a').forEach(a=> a.addEventListener('click', ()=> setMenu(false)));

    // Scroll progress + hint + hero crossfade (logo → copy)
    const bar   = document.getElementById('scrollbar');
    const hint  = document.getElementById('scrollhint');
    const root  = document.documentElement;
    const year  = document.getElementById('year');
    if (year) year.textContent = new Date().getFullYear();

    let hinted = false;
    const LOGO_FADE_DIST = 260; // px: logo 1→0
    const COPY_FADE_DIST = 220; // px: copy 0→1

    const onScroll = () => {
      const h = document.documentElement;
      const max = Math.max(1, h.scrollHeight - h.clientHeight);
      const s = (h.scrollTop)/max;
      if (bar) bar.style.width = (s*100).toFixed(2)+'%';
      if (!hinted && h.scrollTop > 24){ hinted = true; hint.style.opacity = 0; setTimeout(()=>hint.remove(), 400); }

      // Crossfade variables
      const logoFade = Math.max(0, 1 - (h.scrollTop / LOGO_FADE_DIST));
      const heroIn   = Math.min(1, (h.scrollTop / COPY_FADE_DIST));
      root.style.setProperty('--logo-fade', logoFade.toFixed(3));
      root.style.setProperty('--hero-in', heroIn.toFixed(3));
    };
    document.addEventListener('scroll', onScroll, {passive:true});
    onScroll(); // init

    // Fade icons + lines based on distance to viewport center
    (function(){
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      const wrappers = Array.from(document.querySelectorAll('.icon-fade, .divider, .line-fade'));
      function tick(){
        const wh = window.innerHeight;
        for(const el of wrappers){
          const r = el.getBoundingClientRect();
          const center = r.top + r.height/2;
          const dist = Math.abs(center - wh/2);
          const norm = Math.min(1, dist / (wh * 0.9));      // 0 near center → 1 far
          const alpha = 1 - Math.max(0, norm - 0.2) / 0.8;  // hold brighter near center

          // Set for icons AND lines (both read the CSS var they need)
          el.style.setProperty('--icon-alpha', alpha.toFixed(3));
          el.style.setProperty('--line-alpha', alpha.toFixed(3));
          // Also set element opacity to ensure wrappers fade too
          el.style.opacity = alpha.toFixed(3);
        }
        requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    })();
  </script>
</body>
</html>
